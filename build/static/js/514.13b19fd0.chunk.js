"use strict";(self.webpackChunkevan_workshop=self.webpackChunkevan_workshop||[]).push([[514],{3421:function(e,r,t){t.d(r,{OJ:function(){return i},fO:function(){return f},hx:function(){return l},kE:function(){return o},s3:function(){return p}});var n=t(4165),a=t(5861),s=t(6422);function i(e,r){return c.apply(this,arguments)}function c(){return(c=(0,a.Z)((0,n.Z)().mark((function e(r,t){var a,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(s.TH+"?subreddit="+r+"&lastThing="+t,{method:"GET"});case 3:return a=e.sent,e.next=6,a.json();case 6:return i=e.sent,e.abrupt("return",i);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{code:"A990",message:e.t0.message,data:[]});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function o(e,r){return u.apply(this,arguments)}function u(){return(u=(0,a.Z)((0,n.Z)().mark((function e(r,t){var a,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(s.Ap+"?word="+r+"&translate="+t,{method:"GET"});case 3:return a=e.sent,e.next=6,a.json();case 6:return i=e.sent,e.abrupt("return",i);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{code:"A990",message:e.t0.message,data:[]});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function l(){return d.apply(this,arguments)}function d(){return(d=(0,a.Z)((0,n.Z)().mark((function e(){var r,t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(s.qH,{method:"GET"});case 3:return r=e.sent,e.next=6,r.json();case 6:return t=e.sent,e.abrupt("return",t);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{code:"A990",message:e.t0.message,data:[]});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function p(e){return h.apply(this,arguments)}function h(){return(h=(0,a.Z)((0,n.Z)().mark((function e(r){var t,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(s.TO+"?crypto="+r,{method:"GET"});case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,e.abrupt("return",a);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{code:"A990",message:e.t0.message,data:{indicators:{quote:[]},timestamp:[]}});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function f(e,r,t){return b.apply(this,arguments)}function b(){return(b=(0,a.Z)((0,n.Z)().mark((function e(r,t,a){var i,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(s.P3+"?word="+r+"&size="+t+"&skip="+a,{method:"GET"});case 3:return i=e.sent,e.next=6,i.json();case 6:return c=e.sent,e.abrupt("return",c);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{code:"A990",message:e.t0.message,data:[]});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}},2514:function(e,r,t){t.r(r),t.d(r,{default:function(){return v}});var n=t(4165),a=t(3433),s=t(5861),i=t(9439),c=t(2791),o={main:"CrawlYahooCrypto_main__1sV-p",body:"CrawlYahooCrypto_body__Q2dQp",background:"CrawlYahooCrypto_background__Zsnxp",list:"CrawlYahooCrypto_list__6tU4Q",list_container:"CrawlYahooCrypto_list_container__jVuFO",rise:"CrawlYahooCrypto_rise__zHX4q",fall:"CrawlYahooCrypto_fall__LUH60",chart_container:"CrawlYahooCrypto_chart_container__svsmz"},u=t(184);function l(e){var r=e.name,t=e.price,n=e.change,a=e.changeRate,s="";n.startsWith("-")?s=o.fall:n.startsWith("+")&&(s=o.rise);var i="";return a.startsWith("-")?i=o.fall:a.startsWith("+")&&(i=o.rise),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:r}),(0,u.jsx)("td",{className:"text-end",children:t}),(0,u.jsx)("td",{className:"text-end "+s,children:n}),(0,u.jsx)("td",{className:"text-end "+i,children:a})]})}var d=t(4261);function p(e){var r=e.listData;return(0,u.jsx)("div",{children:(0,u.jsxs)("table",{cellPadding:"2",border:1,className:o.list,children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:"Name"}),(0,u.jsx)("th",{children:"Price"}),(0,u.jsx)("th",{children:"Change"}),(0,u.jsx)("th",{children:"Rate(%)"})]})}),(0,u.jsx)("tbody",{children:r.map((function(e){var r=e.name,t=e.price,n=e.change,a=e.changeRate;return(0,u.jsx)(l,{name:r,price:t,change:n,changeRate:a},(0,d.Z)())}))})]})})}var h=t(3539),f=t(4349),b=t(3623),x=t(3421),m=t(5967),g=t(8279);function v(){var e=(0,c.useRef)(null),r=(0,c.useRef)(null),t=(0,c.useState)(!1),l=(0,i.Z)(t,2),d=l[0],m=l[1],v=(0,c.useState)([]),F=(0,i.Z)(v,2),y=F[0],w=F[1],j=(0,c.useState)([]),Z=(0,i.Z)(j,2),k=Z[0],C=Z[1],_=(0,c.useState)([]),N=(0,i.Z)(_,2),S=N[0],W=N[1],R=(0,c.useState)({datasets:[]}),T=(0,i.Z)(R,2),A=T[0],B=T[1],D=(0,h.Z)();(0,c.useEffect)((function(){r.current&&(r.current.scrollTop=r.current.scrollHeight)}),[y]),(0,c.useEffect)((function(){if(e.current){var r=new Array;S.length>=1&&r.push({label:S[0].name,data:S[0].values,backgroundColor:"rgba(255, 0, 0)",borderColor:"rgba(255, 0, 0)",borderWidth:1.5,pointBorderWidth:0,pointRadius:0,fill:!1}),S.length>=2&&r.push({label:S[1].name,data:S[1].values,backgroundColor:"rgba(0, 0, 255)",borderColor:"rgba(0, 0, 255)",borderWidth:1.5,pointBorderWidth:0,pointRadius:0,fill:!1}),S.length>=3&&r.push({label:S[2].name,data:S[2].values,backgroundColor:"rgba(0, 255,0 )",borderColor:"rgba(0, 255, 0)",borderWidth:1.5,pointBorderWidth:0,pointRadius:0,fill:!1}),S.length>=4&&r.push({label:S[3].name,data:S[3].values,backgroundColor:"rgba(255, 0, 255)",borderColor:"rgba(255, 0, 255)",borderWidth:1.5,pointBorderWidth:0,pointRadius:0,fill:!1}),S.length>=5&&r.push({label:S[4].name,data:S[4].values,backgroundColor:"rgba(0, 255, 255)",borderColor:"rgba(0, 255, 255)",borderWidth:1.5,pointBorderWidth:0,pointRadius:0,fill:!1}),B({labels:k,datasets:r})}}),[k,S]);var E,Y={layout:{padding:20},plugins:{legend:{position:"top",display:!0,align:"start",labels:{color:"#FFFFFF80",usePointStyle:!0}},title:{color:"#FFFFFFBB",display:!0,text:D.formatMessage({id:"crawlCrypto.chartTitle"})}},responsive:!0,maintainAspectRatio:!0,aspectRatio:1.5,scales:{x:{beginAtZero:!0,grid:{drawBorder:!0,color:"#FFFFFF20"},ticks:{precision:0,color:"#FFFFFF80"},border:{color:"#FFFFFF80"}},y:{grid:{drawBorder:!0,color:"#FFFFFF20"},ticks:{color:"#FFFFFF80"},border:{color:"#FFFFFF80"}}}};function O(){return U.apply(this,arguments)}function U(){return(U=(0,s.Z)((0,n.Z)().mark((function e(){var r,t,s,i,c,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W([]),e.next=3,(0,x.hx)();case 3:if("0000"===(r=e.sent).code){e.next=6;break}return e.abrupt("return");case 6:if(0!==r.data.length){e.next=8;break}return e.abrupt("return");case 8:w(r.data),t=["USDT-USD","USDC-USD"],s=[],i=0,c=(0,n.Z)().mark((function e(){var c,u,l,d,p,h,f,b,m,g;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=r.data[o].name,!(t.indexOf(c)>=0)){e.next=3;break}return e.abrupt("return","continue");case 3:return i+=1,e.next=6,(0,x.s3)(c);case 6:if("0000"===(u=e.sent).code){e.next=9;break}return e.abrupt("return","continue");case 9:if(l=u.data,d=[],p=D.locale.includes("zh")?57600:0,h=0,0===s.length)for(f=0;f<l.timestamp.length;f++)(b=new Date(1970,0,1)).setSeconds(l.timestamp[f]+p),s[f]=b.toISOString().slice(11,16),C(s);for(m=0;m<s.length;m++)g=l.indicators.quote[0].close[m],0===m?(h=g,d[m]=0):d[m]=g/h-1;W((function(e){return[].concat((0,a.Z)(e),[{name:c,values:d}])}));case 16:case"end":return e.stop()}}),e)})),o=0;case 14:if(!(o<r.data.length&&i<5)){e.next=22;break}return e.delegateYield(c(),"t0",16);case 16:if("continue"!==e.t0){e.next=19;break}return e.abrupt("continue",19);case 19:o++,e.next=14;break;case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){return(G=(0,s.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w([]),m(!0),e.next=4,O();case 4:m(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return E=d?(0,u.jsx)("button",{type:"submit",className:"btn btn-primary w-100 h-100 px-2 disabled",children:(0,u.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"})}):(0,u.jsx)("button",{type:"submit",className:"btn btn-primary w-100 h-100",onClick:function(){return G.apply(this,arguments)},children:(0,u.jsx)(f.Z,{id:"crawlCrypto.summit"})}),(0,u.jsx)("div",{children:(0,u.jsxs)("main",{className:o.main,children:[(0,u.jsx)("h3",{children:(0,u.jsx)(f.Z,{id:"crawlCrypto.title"})}),(0,u.jsxs)("div",{className:o.body,children:[(0,u.jsx)("div",{className:o.background}),(0,u.jsxs)(g.E.div,{initial:"offscreen",whileInView:"onscreen",transition:{delay:.5,duration:.5},variants:{offscreen:{opacity:0},onscreen:{opacity:1}},children:[(0,u.jsx)("div",{className:"p-2",children:E}),(0,u.jsx)("ul",{className:"txt-tip1",children:(0,u.jsx)("li",{children:(0,u.jsx)(f.Z,{id:"crawlCrypto.description"})})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:o.list_container+" bg-secondary w-100",ref:r,children:(0,u.jsx)(p,{listData:y})}),(0,u.jsx)("div",{className:o.chart_container,children:(0,u.jsx)(b.x1,{ref:e,options:Y,data:A})})]})]})]})]})})}m.kL.register(m.vn,m.ZL,m.ST,m.jn,m.od,m.f$,m.Dx,m.uw,m.De)}}]);
//# sourceMappingURL=514.13b19fd0.chunk.js.map